var viewsCollection,likesCollection,update_views,update_likes;if(typeof auth!='undefined'){viewsCollection=db.collection('views'),likesCollection=db.collection('likes');function numberWithCommas(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,',')}update_views=function(a,b){viewsCollection.doc(b).onSnapshot(c=>{var b=c.data(),d;b&&(d=document.querySelectorAll("span[id='"+a+"']")[0].innerText.split(' ')[1],document.querySelectorAll("span[id='"+a+"']")[0].innerText=numberWithCommas(b.views))})},update_likes=function(a,b){likesCollection.doc(b).onSnapshot(c=>{var b=c.data(),d;b&&(d=document.querySelectorAll("span[id='"+a+"']")[0].innerText.split(' ')[1],document.querySelectorAll("span[id='"+a+"']")[0].innerText=numberWithCommas(b.likes))})},auth.signInAnonymously().then(()=>{var d=document.querySelectorAll("span[id^='views_']"),c,a,b,e;for(c in d)a=d[c].id,b=a&&a.replaceAll("/","-"),b&&update_views(a,b);e=document.querySelectorAll("span[id^='likes_']");for(c in e)a=e[c].id,b=a&&a.replaceAll("/","-"),b&&update_likes(a,b)}).catch(a=>{var b=a.code,c=a.message;console.error(b,c)})}